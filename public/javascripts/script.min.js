function f(n,e,t){var s,o,i,a=arguments,m={};for(i in e)"key"==i?s=e[i]:"ref"==i?o=e[i]:m[i]=e[i];if(arguments.length>3)for(t=[t],i=3;i<arguments.length;i++)t.push(a[i]);if(null!=t&&(m.children=t),"function"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===m[i]&&(m[i]=n.defaultProps[i]);return G(n,m,s,o,null)}function G(n,e){let a=document.createElement(n);return e.children&&(e.children.map(e=>{a.appendChild(e)}),delete e.children),Object.keys(e).forEach(u=>{e[u]&&a.setAttribute(u,e[u])}),a}function Ie(n){return n.composedPath().some(e=>e instanceof HTMLElement&&e.hasAttribute("data-nodrag"))}const ne=class extends HTMLElement{constructor(){super(...arguments),this.dragging=!1,this.offsetX=0,this.offsetY=0,this.startOffsetX=0,this.startOffsetY=0,this.startClientX=0,this.startClientY=0,this.floatIndi=null,this.floatIndiEnabled=!1,this.isFloatingLeft=!1,this.preventClickDuringDrag=e=>{this.dragging&&e.preventDefault()},this.mouseDown=e=>{!Ie(e)&&(e.preventDefault(),addEventListener("mousemove",this.mouseMove),addEventListener("mouseup",this.mouseUp),this.dragStart(e))},this.mouseMove=e=>{e.preventDefault(),e.clientX<150&&this.offsetX<0?this.hoverFloatLeft():this.leaveFloatLeft(),this.dragMove(e)},this.mouseUp=()=>{removeEventListener("mousemove",this.mouseMove),removeEventListener("mouseup",this.mouseUp),this.dragEnd()}}connectedCallback(){this.addEventListener("click",this.preventClickDuringDrag,{capture:!0}),this.addEventListener("mousedown",this.mouseDown)}dragStart({clientX:e,clientY:t}){document.documentElement.style.userSelect="none",document.documentElement.style.webkitUserSelect="none",this.style.touchAction="none",this.startOffsetX=this.offsetX,this.startOffsetY=this.offsetY,this.startClientX=e,this.startClientY=t,this.isFloatingLeft&&this.endFloatLeft()}dragMove({clientX:e,clientY:t}){Math.abs(e-this.startClientX)+Math.abs(t-this.startClientY)>=4&&(this.dragging=!0),this.offsetX=this.startOffsetX+e-this.startClientX,this.offsetY=this.startOffsetY+t-this.startClientY,this.style.setProperty("--x",`${this.offsetX}px`),this.style.setProperty("--y",`${this.offsetY}px`)}dragEnd(){document.documentElement.style.removeProperty("user-select"),document.documentElement.style.removeProperty("-webkit-user-select"),this.style.removeProperty("touch-action"),requestAnimationFrame(()=>{this.dragging=!1}),this.floatIndiEnabled&&this.floatLeft()}hoverFloatLeft(){this.floatIndiEnabled||(this.floatIndi=document.createElement("div"),this.floatIndi.classList.add("panel-placement"),document.querySelector("gol-grid").appendChild(this.floatIndi),this.floatIndiEnabled=!0)}leaveFloatLeft(){this.floatIndiEnabled&&(this.floatIndi.remove(),this.floatIndiEnabled=!1)}floatLeft(){this.classList.add("float-left"),this.floatIndi.remove(),this.floatIndiEnabled=!1,this.isFloatingLeft=!0;let pos=this.getBoundingClientRect();document.querySelector("gol-grid").style.marginLeft=pos.width+"px",this.offsetX=0,this.offsetY=0,this.style.setProperty("--x",`${this.offsetX}px`),this.style.setProperty("--y",`${this.offsetY}px`)}endFloatLeft(){document.querySelector("gol-grid").style.marginLeft=null,this.classList.remove("float-left"),this.isFloatingLeft=!1,this.hoverFloatLeft()}};customElements.define("draggable-element",ne);const mu=class extends HTMLElement{constructor(){super(...arguments),this.min=this.getAttribute("min")||1,this.max=this.getAttribute("max")||100,this.value=this.getAttribute("value")||10,this.type=this.getAttribute("type")||"linear";let i=document.createElement("input"),s=document.createElement("span");this.appendChild(i),this.appendChild(s),i.type="range",i.step=this.getAttribute("step")||1,i.min=this.min,i.max=this.max,i.value=this.value,s.innerText=("ratio"==this.type?"1/":"")+this.value.toString()}connectedCallback(){this.addEventListener("input",this.onInput)}onInput(){this.querySelector("span").innerText=("ratio"==this.type?"1/":"")+this.querySelector("input").value.toString()}};customElements.define("panel-slider",mu);var vt={default:{"panel-showreel":{top:25,left:25,width:0,height:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,zIndex:2}}};const transitionIn=function(){let e=window.innerWidth,t=window.innerHeight,s=Array.from(document.querySelectorAll("draggable-element")),o=s.map(i=>i.getBoundingClientRect());for(let i=0;i<s.length;i++){let a=s[i],m=o[i],D=m.left+.5*m.width-.5*e,b=m.top+.5*m.height-.5*t;Math.abs(D)>=Math.abs(b)?a.style.setProperty("--x",`${a.offsetX+.5*Math.sign(D)*e}px`):a.style.setProperty("--y",`${a.offsetY+.5*Math.sign(b)*t}px`),requestAnimationFrame(()=>{a.style.transformOrigin="center center",a.style.transition="transform 500ms cubic-bezier(0.25, 0.1, 0.25, 1)",a.addEventListener("transitionend",()=>{a.style.removeProperty("transform-origin"),a.style.removeProperty("transition")},{once:!0}),a.style.setProperty("--x",`${a.offsetX}px`),a.style.setProperty("--y",`${a.offsetY}px`)})}},transitionOut=function(){let e=window.innerWidth,t=window.innerHeight,s=Array.from(document.querySelectorAll("draggable-element")),o=s.map(i=>i.getBoundingClientRect());for(let i=0;i<s.length;i++){let a=s[i],u=o[i],f=u.left+.5*u.width-.5*e,x=u.top+.5*u.height-.5*t,r=Math.abs(f)>=Math.abs(x);a.style.transformOrigin="center center",a.style.transition="transform 500ms cubic-bezier(0.25, 0.1, 0.25, 1)",a.addEventListener("transitionend",()=>{a.style.removeProperty("transform-origin"),a.style.removeProperty("transition")},{once:!0}),r?a.style.setProperty("--x",`${a.offsetX+.5*Math.sign(f)*e}px`):a.style.setProperty("--y",`${a.offsetY+.5*Math.sign(x)*t}px`)}};positionAll=function(positions){let selectedPosition=Object.keys(positions)[0],e=window.innerWidth,t=window.innerHeight,s=Array.from(document.querySelectorAll("draggable-element"));for(let o of s){let i=positions[selectedPosition][o.id];if(!i)continue;let a=i.windowWidth,m=i.windowHeight,D,b,r,h,g=(i.left+.5*i.width-.5*a)*(1+(e-a)/a),p=(i.top+.5*i.height-.5*m)*(1+(t-m)/m);o.offsetX=g-.5*i.width+.5*e,o.offsetY=p-.5*i.height+.5*t,o.style.setProperty("--x",`${o.offsetX}px`),o.style.setProperty("--y",`${o.offsetY}px`),o.style.zIndex=String(i.zIndex)}},positionAll(vt);var Me=function(a,b,c){return Le(document,arguments)},Le=function(a,b){var c=String(b[0]),d=b[1],e=b[2]||null;return c=a.createElement(c),e&&e.in&&(c.innerHTML=e.in),b&&(d&&"object"!=typeof e&&!je(d)?Ne(c,d,e):e&&e.type?c.setAttribute(e.type,d):d&&(c.className=d)),c},Ne=function(b,c,d){function e(h,i){b.setAttribute(h,i)}for(var i=0;i<Math.min(c.length,d.length);i++)e(c[i],d[i])},Mc=function(a,b){a.classList.add(b)},Mr=function(a,b){a.classList.remove(b)},Ms=function(a,b,c){return je(b)?a.setAttribute(b,void 0!==c?c:""):Ne(a,b,c),a},Mrs=function(a,b,c){return je(b)?a.removeAttribute(b,void 0!==c?c:""):Ne(a,b,c),a},Md=function(a,b){if(a&&b)return b.length>1||Array.isArray(b)?dj(a,b):a.appendChild(b),a},Mg=function(a,b){return("number"!=typeof b&&b||document).getElementsByClassName(a)["number"==typeof b&&b||0]},Mqa=function(a,b){return a.querySelectorAll(b)},Mq=function(a,b){return a.querySelector(b)},Fe=function(a,b){return(b||document).getElementsByTagName(String(a))},dj=function(a,b){for(var i=0;i<b.length;i++)a.appendChild(b[i])},je=function(a){return"string"==typeof a},XHR=function(method,url){return new Promise((resolve,reject)=>{const xhr=new XMLHttpRequest;xhr.open(method,url),xhr.responseType="json",xhr.onload=()=>{200==xhr.status?resolve(xhr):reject(xhr)},xhr.onerror=()=>{reject("Something went wrong !")},xhr.send()})};const Table=function(a){let root=this.root=a||document.body;return this.gridProps().genTable(root),this.TableEvents().initManualMode(),this};let t=Table.prototype;t.genTable=function(a){this.table&&(this.table.remove(),this.table=void 0),this.table=Me("table"),this.table.id="grid-table";for(let i=0;i<this.grid_size_y;i++){let row=Me("tr");for(let j=0;j<this.grid_size_x;j++){let cell=Me("td");Ms(cell,"class","cell"),lps(i,j,cell),Md(row,cell),this.gridTable[j][i]=cell}Md(this.table,row)}return Md(a,this.table),this},t.gridProps=function(){let r=window.innerWidth/window.innerHeight;return this.csz=this.csz||100,r>1?(this.grid_size_x=this.csz,this.grid_size_y=Math.floor(this.csz/r),this.grid_size_y%2==0&&(this.grid_size_y+=1),this.cell_size=Math.floor(window.innerWidth/this.csz)):(this.grid_size_x=Math.floor(this.csz*r),this.grid_size_y=this.csz,this.grid_size_x%2==0&&(this.grid_size_x+=1),this.cell_size=Math.floor(window.innerHeight/this.csz)),this.grid=make2DArray(this.grid_size_x,this.grid_size_y),this.gridTable=make2DArray(this.grid_size_x,this.grid_size_y),this},t.countCellNeighbors=function(x,y){let sum=0;for(let i=-1;i<2;i++)for(let j=-1;j<2;j++){let col=(x+i+this.grid_size_x)%this.grid_size_x,row=(y+j+this.grid_size_y)%this.grid_size_y;sum+=this.grid[col][row]}return sum-=this.grid[x][y],sum},t.updateTable=function(){return this.grid.forEach((e,x)=>{e.forEach((u,y)=>{2==u&&this.createTempCell(x,y),1==u?this.createAliveCell(x,y):0==u?this.killCell(x,y):-1==u&&this.removeTempCell(x,y)})}),this},t.updateCells=function(){let next=[];return this.grid.forEach((e,i)=>{e.forEach((_,j)=>{let state=this.grid[i][j],neighbors=this.countCellNeighbors(i,j);0==state&&3==neighbors?next.push({x:i,y:j,v:1}):1==state&&(neighbors<2||neighbors>3)?next.push({x:i,y:j,v:0}):next.push({x:i,y:j,v:state})})}),next.forEach(e=>this.grid[e.x][e.y]=e.v),this},t.createAliveCell=function(a,b){this.gridTable[a][b].classList.add("alive")},t.createTempCell=function(a,b){this.gridTable[a][b].classList.add("temp")},t.killCell=function(a,b){this.gridTable[a][b].classList.remove("alive")},t.removeTempCell=function(a,b){this.gridTable[a][b].classList.remove("temp")},t.BeginLife=function(){return this.updateTable().updateCells(),this.PlayLifeCycle(),this.cyclesCount=0,this},t.PlayLifeCycle=function(){return this.isliving=!0,this.lifeCycle=setInterval(()=>{this.updateTable().updateCells().updateCyclesIndicator().cyclesCount++},1e3/(this.lifespeed||10)),this},t.PauseLifeCycle=function(){return this.isliving=!1,clearInterval(this.lifeCycle),this.updateTable(),this},t.SetLifeCycleSpeed=function(a){return a&&(this.lifespeed=a),this},t.ClearLife=function(){return this.PauseLifeCycle(),this.grid=make2DArray(this.grid_size_x,this.grid_size_y),this.updateTable(),this.cyclesCount=0,this.updateCyclesIndicator(),this},t.TableEvents=function(){return this.mousedown=event=>{this.manualMode&&(event.preventDefault(),this.clicking=!0,this.evtn(event,this))},this.mouseover=event=>{this.manualMode&&this.evtn(event,this)},this.mouseup=event=>{this.manualMode&&(event.preventDefault(),this.clicking=!1,this.evtn(event,this))},this.mouseleave=event=>{this.manualMode&&(event.preventDefault(),this.clicking=!1,this.evtn(event,this))},this},t.initManualMode=function(){return this.table.addEventListener("mousedown",this.mousedown.bind(this)),this.table.addEventListener("mouseover",this.mouseover.bind(this)),this.table.addEventListener("mouseup",this.mouseup.bind(this)),this.table.addEventListener("mouseleave",this.mouseleave.bind(this)),this},t.ToggleManualMode=function(){return this.manualMode=!this.manualMode,this},t.LinkCyclesIndicator=function(a){if(a)return this.cycleIndi=a,this},t.updateCyclesIndicator=function(){if(this.cycleIndi)return this.cycleIndi.innerText=this.cyclesCount||0,this},t.evtn=(event,t)=>{if(event.preventDefault(),t.clicking&&event.target.classList.contains("cell")){let place=clplc(event.target);0==t.grid[place[0]][place[1]]?t.adwl(place[0],place[1]):t.rmvw(place[0],place[1])}},t.adwl=function(a,b){this.grid[a][b]=1,this.createAliveCell(a,b)},t.rmvw=function(a,b){this.grid[a][b]=0,this.killCell(a,b)},t.structAdder=function(s,a,b,c){if(s&&a&&b)return s.forEach(e=>{a+e.x<0||b+e.y<0||a+e.x>this.grid.length||!this.grid[a+e.x]||b+e.y>this.grid[a+e.x].length||(c&&1==this.grid[a+e.x][b+e.y]?this.grid[a+e.x][b+e.y]=3:this.grid[a+e.x][b+e.y]=c?2:1)}),this.updateTable(),this},t.structRemover=function(s,a,b,c){if(s&&a&&b)return s.forEach(e=>{a+e.x<0||b+e.y<0||a+e.x>this.grid.length||!this.grid[a+e.x]||b+e.y>this.grid[a+e.x].length||(c&&3==this.grid[a+e.x][b+e.y]?this.grid[a+e.x][b+e.y]=1:this.grid[a+e.x][b+e.y]=c?-1:0)}),this.updateTable(),this},t.makeAliveTemps=function(){this.grid.forEach((e,i)=>{e.forEach((u,j)=>{let state=u;2==state?(this.removeTempCell(i,j),this.createAliveCell(i,j),this.grid[i][j]=1):-1==state&&(this.grid[i][j]=0)})}),this.updateTable()},t.addStructsToLib=function(b,c){this.structLib||(this.structLib=[]);let structs=[],t=this;return async function(){if(!t.cachedStructLib){let l=new Loader(!0).create(c);t.cachedStructLib=await async function(){try{var{response:response}=await XHR("GET","/gol/lib/structs-lib");if(!response||response.isError)return;return response}catch(error){l.remove()}}(),l.remove()}if(!t.cachedStructLib)return Md(c,Md(Me("div","str-lin-error"),Me("p","",{in:"An error occured while loading the structures"})));Object.keys(t.cachedStructLib).forEach((e,i)=>{let m=new Struct(t.cachedStructLib[e],b);t.addStructEvent(m,b),structs.push(m.s)}),Md(c,structs)}.bind(this)(),this},t.initStructEvents=function(){this.structEventSetup=!0,document.addEventListener("mousemove",this.structMouseMove.bind(this)),document.addEventListener("mouseup",this.structMouseUp.bind(this)),document.addEventListener("mouseleave",this.structMouseUp.bind(this))},t.addStructEvent=function(s,b){this.structEventSetup||this.initStructEvents(),s.s.addEventListener("mousedown",event=>{if(event.preventDefault(),!this._selectedElement){let m=s.s.getBoundingClientRect();this._selectedElement=new Struct(s.p,b),this.oldStart=null,this._selectedElement.s.style.width=m.width+"px",this._selectedElement.s.style.height=m.height+"px",Md(document.body,this._selectedElement.s),this._originalClickCoords={x:event.pageX-m.left,y:event.pageY-m.top},this._savedClickCoords={x:m.left,y:m.top},this._selectedElement.s.style.transform="translate3d("+this._savedClickCoords.x+"px,"+this._savedClickCoords.y+"px,0)",this._selectedElement.s.classList.add("draggable-struct"),this._selectedElement.s.classList.add("dd-selected"),this._selectedElement.s.classList.remove("dd-transition"),this.restartAfter=!!this.isliving,console.log("pause","restart",this.restartAfter),this.PauseLifeCycle()}})},t.structMouseMove=function(event){if(this._selectedElement){if(event.target.classList.contains("cell")){let place=clplc(event.target);this.oldStart&&this.oldStart!=place&&this.structRemover(this._selectedElement.p,this.oldStart[0],this.oldStart[1],!0),this.oldStart=place,this.structAdder(this._selectedElement.p,place[0],place[1],!0)}var pageX=event.pageX,pageY=event.pageY,ele=this._selectedElement.s,resultX=pageX-this._originalClickCoords.x,resultY=pageY-this._originalClickCoords.y;ele.style.transform="translate3d("+resultX+"px,"+resultY+"px,0)"}},t.structMouseUp=function(event){this._selectedElement&&(this._selectedElement.s.remove(),this.makeAliveTemps(),this._selectedElement=null,this._originalClickCoords=null,this._savedClickCoords=null,void 0!==this.restartAfter&&1==this.restartAfter&&(this.PlayLifeCycle(),console.log("play")))},t.structMouseLeave=function(event){this._selectedElement&&this._selectedElement.s.classList.add("table-grid-hide")},t.structMouseOver=function(event){this._selectedElement&&(this._selectedElement.s.classList.remove("table-grid-hide"),this.oldStart&&this.structRemover(this._selectedElement.p,this.oldStart[0],this.oldStart[1],!0))},t.summonStructMenu=function(a){a&&(this.structMenu=new StructMenu(a),this.structMenu.graphic.addEventListener("mouseleave",this.structMouseLeave.bind(this)),this.structMenu.graphic.addEventListener("mouseover",this.structMouseOver.bind(this)),this.structMenu.close.onclick=()=>{this.structMenu.graphic.removeEventListener("mouseleave",this.structMouseLeave.bind(this)),this.structMenu.graphic.removeEventListener("mouseover",this.structMouseOver.bind(this)),this.structMenu.delete(),delete this.structMenu})};const Struct=function(a,b){return this.range=this.getMaxRange(a),this.strTable=this.genStructTab(this.range.size),this.fillStructTable(this.strTable,a,this.range),this.intrf=Md(Ms(Me("gol-struct",""),"data-nodrag"),this.strTable.table),{s:this.intrf,p:a}};let s=Struct.prototype;s.getMaxRange=function(a){var max=0,min=0,xmax=0,xmin=0,ymax=0,ymin=0;a.forEach(u=>{u.x>max&&(max=u.x),u.y>max&&(max=u.y),u.x<min&&(min=u.x),u.y<min&&(min=u.y),xmax<u.x&&(xmax=u.x),ymax<u.y&&(ymax=u.y),xmin>u.x&&(xmin=u.x),ymin>u.y&&(ymin=u.y)});let j={max:max,min:min,xmax:xmax,xmin:xmin,ymax:ymax,ymin:ymin,size:0},h=this.getTableSize(j);return j.size=h,j},s.genStructTab=function(a){let table=Me("table","struct-table"),u=make2DArray(a);for(let i=0;i<a;i++){let row=Me("tr");for(let j=0;j<a;j++){let p=Me("td");Md(row,p),u[i][j]=p}Md(table,row)}return{table:table,grid:u}},s.fillStructTable=function(t,s,m){let xd=Math.abs(m.xmax)>Math.abs(m.xmin)?m.size-1-Math.abs(m.xmax):Math.abs(m.xmin),yd=Math.abs(m.ymax)>Math.abs(m.ymin)?m.size-1-Math.abs(m.ymax):Math.abs(m.ymin);Math.abs(m.ymax)+Math.abs(m.ymin)+1<m.size&&(yd=Math.floor((m.size-Math.abs(m.ymax)+Math.abs(m.ymin))/2)),Math.abs(m.xmax)+Math.abs(m.xmin)+1<m.size&&(xd=Math.floor((m.size-Math.abs(m.xmax)+Math.abs(m.xmin))/2)),s.forEach(e=>{t.grid[yd+e.y][xd+e.x].classList.add("active")})},s.getTableSize=function(e){return Math.max(Math.abs(e.xmax)+Math.abs(e.xmin),Math.abs(e.ymax)+Math.abs(e.ymin))+1},s.delete=function(){this.intrf.remove()};const StructMenu=function(pa){this.inner=Me("div","str-scroll-list");let s='<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.37521 23.5122C5.8845 24.0098 6.74348 24.0034 7.2284 23.5185L14.4373 16.3096L21.642 23.5164C22.1354 24.0098 22.9934 24.0173 23.4931 23.5101C23.9928 23.0008 23.9949 22.162 23.5015 21.6665L16.2968 14.4501L23.5015 7.24536C23.9949 6.75201 24.0024 5.90358 23.4931 5.40389C22.9838 4.8946 22.1354 4.89249 21.642 5.39546L14.4373 12.6002L7.2284 5.39335C6.74348 4.90093 5.87489 4.88288 5.37521 5.40178C4.87764 5.91108 4.88396 6.75833 5.36888 7.24325L12.5778 14.4501L5.36888 21.6707C4.88396 22.1535 4.86803 23.0125 5.37521 23.5122Z" /></svg>';this.close=Me("div","menu-close red-h",{in:s}),this.graphic=Md(Me("draggable-element"),Md(Me("article","panel panel-medium-small"),[Md(Me("header","panel-header"),[Me("p","",{in:"Stuctures"}),this.close]),Md(Me("div","str-list"),this.inner)])),this.graphic.id="panel-structs",Md(pa,this.graphic)};let sm=StructMenu.prototype;sm.delete=function(){this.graphic.remove()};let wid=function(a){return a.getBoundingClientRect().width},dmt=function(a){return a.getBoundingClientRect()},sivz=function(a){return document.getElementById(a)},lps=(a,b,c)=>{c.setAttribute("el-x",b),c.setAttribute("el-y",a)},clplc=cell=>{let text_x=cell.getAttribute("el-x"),text_y=cell.getAttribute("el-y");return[parseInt(text_x,10),parseInt(text_y,10)]},make2DArray=function(cols,rows){return new Array(cols).fill(0).map(()=>new Array(rows).fill(0))};const Menu=function(a){if(!a)throw Error("Missing table argument, please provide a Table object.");this.dragel=sivz("panel-showreel"),this.isLiving=!1,this.isPaused=!1,this.bgn=sivz("bgn-lf"),this.clr=sivz("clr-lf"),this.mnl=sivz("mnl-lf"),this.str=sivz("str-lf"),this.lifeCycleIndi=sivz("lf-ccl").querySelector("span"),this.psi=document.querySelector("#panel-slider-lifespeed input"),this.pst=document.querySelector("#panel-slider-gridres input"),this.table=a,this.structLib,this.getStructLib().initControls()};let m=Menu.prototype;m.getStructLib=function(){let t=this;return this},m.initControls=function(){let t=this;return this.table.LinkCyclesIndicator(t.lifeCycleIndi),t.bgn.onclick=function(){t.pst.disabled=!0,t.isLiving?t.isLiving&&t.isPaused?(t.bgn.innerText="Pause Life",t.psi.disabled=!0,t.isPaused=!1,t.table.SetLifeCycleSpeed(t.psi.value),t.table.PlayLifeCycle()):t.isLiving&&!t.isPaused&&(t.bgn.innerText="Play Life",t.psi.disabled=!1,t.isPaused=!0,t.table.PauseLifeCycle()):(t.bgn.innerText="Pause Life",t.psi.disabled=!0,t.isLiving=!0,t.table.SetLifeCycleSpeed(t.psi.value),t.table.BeginLife())},t.clr.onclick=function(){t.bgn.innerText="Begin Life",t.psi.disabled=!1,t.pst.disabled=!1,t.isLiving=!1,t.isPaused=!1,t.table.ClearLife()},t.mnl.onclick=function(){t.mnl.classList.toggle("active"),t.table.ToggleManualMode()},t.pst.onchange=t.pst.oninput=()=>{t.table.csz=parseInt(t.pst.value),t.table.gridProps().genTable(t.table.root),t.table.initManualMode()},t.str.onclick=function(){if(!t.table.structMenu){let pos=t.dragel.getBoundingClientRect();t.table.summonStructMenu(Fe("main")[0]);let posn=t.table.structMenu.graphic.getBoundingClientRect();positionAll({default:{"panel-structs":{top:pos.top+posn.height>window.innerHeight?pos.top+pos.height-posn.height:pos.top,left:2*pos.width+pos.left+10<window.innerWidth?pos.width+pos.left+10:pos.left-10-pos.width,width:0,height:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,zIndex:3}}}),t.table.addStructsToLib(t.table.structMenu.inner.getBoundingClientRect().width,t.table.structMenu.inner)}},t.dragel.querySelector(".menu-close").onclick=function(){t.closed=!t.closed;let l=t.dragel.querySelector(".panel"),p=t.dragel.querySelector(".circled-open");t.dragel.classList.toggle("circled"),l.classList.add("circled"),p.classList.add("show"),Ms(l,"data-nodrag"),t.dragel.style.setProperty("--x","25px"),t.dragel.style.setProperty("--y","25px");let pos=l.getBoundingClientRect();Ms(l,"drg-width",pos.width),Ms(l,"drg-height",pos.height),anime({targets:l,width:"75px",height:"75px",easing:"spring(1, 70, 10, 5)",borderRadius:["24px","50%"],duration:500})},t.dragel.querySelector(".circled-open").onclick=function(){let l=t.dragel.querySelector(".panel"),p=t.dragel.querySelector(".circled-open");l.classList.remove("circled"),p.classList.remove("show"),t.dragel.classList.remove("circled"),Mrs(l,"data-nodrag");let an=anime({targets:l,width:l.getAttribute("drg-width"),height:l.getAttribute("drg-height"),easing:"spring(1, 80, 10, 0)",borderRadius:["50%","24px"],duration:500});positionAll({default:{"panel-showreel":{top:25,left:25,width:0,height:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,zIndex:3}}}),an.finished.then(()=>{l.style.width=l.style.height=null})},this};const beginGame=function(){let table=new Table(document.querySelector("gol-grid"));new Menu(table)};window.setTimeout(()=>beginGame());